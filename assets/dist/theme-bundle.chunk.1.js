webpackJsonp([1],{192:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),l=n.n(a),s=n(69),c=n(437),d=n(71),u=n(189),p=n(438),f=n(130),v=n(12),y=n(43),b=n(25),m=n.n(b),h=function(e){function t(n){o(this,t);var i=r(this,e.call(this,n));return i.url=window.location.href,i.$reviewLink=l()('[data-reveal-id="modal-review-form"]'),i}return i(t,e),t.prototype.before=function(e){var t=this;l()(document).on("close.fndtn.reveal",function(){-1!==t.url.indexOf("#write_review")&&"function"==typeof window.history.replaceState&&window.history.replaceState(null,document.title,window.location.pathname)}),e()},t.prototype.loaded=function(e){var t=this,n=void 0;Object(d.b)(),this.productDetails=new u.a(l()(".productView"),this.context,window.BCData.product_attributes),Object(p.a)();var o=Object(f.b)(".writeReview-form"),r=new c.a(o);l()("body").on("click",'[data-reveal-id="modal-review-form"]',function(){n=r.registerValidation(t.context)}),o.on("submit",function(){return!!n&&(n.performCheck(),n.areAll("valid"))});var i=Object(y.b)();l()("body").on("click",".find-btn-apply",function(e){e.preventDefault();var t=l()(e.currentTarget).data("book-product"),n=(l()(e.currentTarget).data("book-sku"),l()(e.currentTarget).attr("data-book-email")),o=l()(e.currentTarget).attr("data-book-option"),r=l()(e.currentTarget).attr("data-book-quantity"),a=l()(e.currentTarget).attr("data-book-grey"),s=l()(e.currentTarget).attr("data-book-client-fullname"),c=l()(e.currentTarget).attr("data-book-client-phone"),d=l()(e.currentTarget).attr("data-book-curl");if(o)if(o.toLowerCase().includes("choose"))l()(".alertBox-find-option span").html("Please choose option"),l()(".alertBox-find-wrapper").show();else{var u=window.pJson?window.pJson:[];if(u=u.filter(function(e){return e.option_values.filter(function(e){return e.label==o}).length>0}),d&&u.filter(function(e){return e.option_values.filter(function(e){return e.label.includes(d)}).length>0}),a){if(0==a.trim().length)return l()(".alertBox-find-option span").html("Please choose Grey %"),l()(".alertBox-find-wrapper").show(),!1;u=u.filter(function(e){return e.option_values.filter(function(e){return e.label==a}).length>0})}u.length>0?fetch("//shp-webserver.glitch.me/add-teamdesk",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({table:"t_447395",body:[{Type:"Wish List --  Not Paid Yet","Order Status":"Wish List on hold",Items:u[0].sku,"Request Quantity":r,SKU:u[0].sku,Notes:t+"\nRequest sent from www.superhairpieces.com",Email:n,"Men's Grey Hair Percentage":a||null,"Client Full Name":s,"Client Cell Phone":c,"Men's Hair Color":o}]})}).then(function(e){return e.json()}).then(function(e){if(e.length>0)if(201==e[0].status){i.updateContent('<style>\n                                    .sign-done {\n                                        text-align: center;\n                                        margin-top: 100px;\n                                        text-transform: uppercase;        \n                                        font-size: 1.4rem;\n                                    }\n                                    </style>\n                                    <div class="sign-done">sign up successfully</div>')}else m()({text:"Could not create your record. Please try again or contact us.",type:"info"});else m()({text:"Could not send your record. Please try again or contact us.",type:"info"})}).catch(function(e){console.log(e),m()({text:"Error happened. Please try again or contact us.",type:"info"})}):m()({text:"Your selection is not available",type:"info"})}else l()(".alertBox-find-option span").html("Please apply option"),l()(".alertBox-find-wrapper").show()}),l()("body").on("click",".btn-book",function(e){e.preventDefault();var n=l()(e.currentTarget).data("book-sku"),o=l()(e.currentTarget).data("book-name"),r=l()(e.currentTarget).data("variant-json"),a=l()(e.currentTarget).attr("data-book-id");i.open({size:"large"}),v.b.api.product.getById(a,{template:"products/quick-back-order"},function(e,a){return a+='<div style="display:none" class="product-sku">'+n+'</div><div style="display:none" class="product-name">'+o+"</div></div>",a+="<script>\n                    let vjs = "+JSON.stringify(r)+';                \n                    let color = document.querySelector(".select-color select");\n                    if (document.querySelector(".select-grey select")){\n                        let grey = document.querySelector(".select-grey select");\n                        color.addEventListener("change", function() {                \n                            document.querySelector(".select-grey").style.display="block";\n                            let vArr = vjs.filter(v=>v.option_values.filter(op=>op.label==color.options[color.selectedIndex].text).length>0);\n                            Array.from(grey.options).forEach((opt, idx)=> {\n                                let vt = vArr.filter(v=>v.option_values.filter(op=>op.label==opt.text).length>0);                    \n                                if (vt.length>0) {\n                                    if (vt[0].inventory_level>0) {\n                                        opt.style.display = "none";                            \n                                    } else {\n                                        opt.style.display = "block";\n                                    }\n                                } else {\n                                    opt.style.display = "block";\n                                }\n                            });\n                        });\n                    } else {            \n                        Array.from(color.options).forEach((opt, idx)=> {                        \n                            let vt = vjs.filter(v=>v.option_values.filter(op=>op.label==opt.text).length>0);                        \n                            if (vt.length>0) {\n                                if (vt[0].inventory_level>0) {\n                                    opt.style.display = "none";\n                                } else {\n                                    opt.style.display = "block";\n                                }\n                            } else {\n                                opt.style.display = "block";\n                            }\n                        });\n                    }\n                <\/script>',i.updateContent(a),i.$content.find(".productView").addClass("productView--quickView"),i.$content.find("[data-slick]").slick(),new u.a(i.$content.find(".quick-preorder"),t.context)})}),l()("body").on("click",".btn-book-more",function(e){e.preventDefault();var t=l()(e.currentTarget).data("book-sku"),n=l()(e.currentTarget).data("book-name"),o=l()(e.currentTarget).data("book-select"),r=l()(e.currentTarget).data("book-grey"),a=l()(e.currentTarget).data("book-customer"),s=l()(e.currentTarget).data("book-customer-email"),c=l()(e.currentTarget).data("book-customer-name"),d=l()(e.currentTarget).data("book-customer-phone"),u=(l()(e.currentTarget).data("product-id"),l()(e.currentTarget).data("color-attribute"),l()(e.currentTarget).data("grey-attribute")),p=l()(e.currentTarget).data("variant-json");if(a){i.open({size:"large"});var f="",v="";if(p.length>0?(p=JSON.stringify(p),v='<div class="find-btn-apply button button--primary" data-book-sku="'+t+"\" data-book-product='"+n+"' data-book-quantity='1'>sign up</div><script>var pJson = "+p+";<\/script>"):v="<div>Our server could not get the options' information. Please try again later.</div>",r){for(var y="",b=r.data,m=Array.isArray(b),h=0,b=m?b:b[Symbol.iterator]();;){var g;if(m){if(h>=b.length)break;g=b[h++]}else{if(h=b.next(),h.done)break;g=h.value}var w=g;y+='<option value="'+w.value+'" data-attr="'+w.attr+'">'+w.value+"</option>"}f='<div class="find-select-wrapper find-grey-wrap" style="display:none;">\n                        <label for="select-color" class="find-select-label">Grey Hair %</label>\n                        <select name="select-color" class="find-select find-grey" onchange="setSelect1(this)">\n                            '+y+'\n                        </select>            \n                    </div>\n                    <script>\n                        document.querySelector(".find-btn-apply").setAttribute("data-book-grey", " ");\n                        function setSelect1(obj) {                        \n                            if (obj.selectedIndex > 0) {\n                                document.querySelector(".find-btn-apply").setAttribute("data-book-grey", obj.value);\n                            } else {\n                                document.querySelector(".find-btn-apply").setAttribute("data-book-grey", " ");\n                            }\n                            // document.querySelector(".btn-notify-check-available").setAttribute("data-notify-attrGreyName", "'+u+'");\n                            // document.querySelector(".btn-notify-check-available").setAttribute("data-notify-attrGreyValue", obj.options[obj.selectedIndex].getAttribute("data-attr"));                        \n                            // document.querySelector(".btn-notify-check-available").click();\n                        }                    \n                    <\/script>'}var k="";n.toUpperCase().includes("PERM")&&(k='<div class="find-select-wrapper">\n                        <label for="select-color" class="find-select-label">Wavy</label>\n                        <select name="select-color" class="find-select find-curl" onchange="setSelect2(this)">\n                            <option value="18mm" data-attr="18mm" selected>18mm</option>\n                            <option value="22mm" data-attr="22mm">22mm</option>\n                            <option value="25mm" data-attr="25mm">25mm</option>\n                        </select>            \n                    </div>\n                    <script>\n                        document.querySelector(".find-btn-apply").setAttribute("data-book-curl", "18mm");\n                        function setSelect2(obj) {                        \n                            if (obj.selectedIndex > 0) {\n                                document.querySelector(".find-btn-apply").setAttribute("data-book-curl", obj.value);\n                            } else {\n                                document.querySelector(".find-btn-apply").setAttribute("data-book-curl", " ");\n                            }                            \n                        }                    \n                    <\/script>');for(var x="",S=o.data,q=Array.isArray(S),A=0,S=q?S:S[Symbol.iterator]();;){var T;if(q){if(A>=S.length)break;T=S[A++]}else{if(A=S.next(),A.done)break;T=A.value}var j=T;x+='<option value="'+j.value+'" data-attr="'+j.attr+'">'+j.value+"</option>"}var C='<style>\n                    .find-wrapper {\n                        padding: 0.5rem 2rem 1rem;\n                    }\n                    .find-title {\n                        text-transform: uppercase;        \n                        font-weight: 400;\n                        margin-bottom: 2rem;\n                    }\n                    .find-item-title {\n                        margin: 2rem 0;\n                    }\n                    .find-select-label, .find-quantity-label {\n                        text-transform: uppercase;\n                        margin-bottom: 0.7rem;\n                    }\n                    .find-product {\n                        font-style: italic;\n                        font-weight: 400;\n                        font-size: 1.2rem;\n                    }\n                    .find-input {\n                        width: 100%;\n                        padding: 0.5rem 1rem;\n                        margin-bottom: 2rem;;\n                    }\n                    .find-select-wrapper, .find-quantity-wrapper {\n                        margin-bottom: 2rem;\n                    }\n                    .find-select {\n                        width: 100%;\n                        padding: 0.5rem 1rem;\n                    }\n                    .find-quantity {\n                        padding: 0.5rem 1rem;\n                    }\n                    .find-btn-apply {\n                        text-transform: uppercase;                    \n                    }\n                    .alertBox-find-wrapper {\n                        display: none;\n                    }\n                    .find-stock-available {\n                        display: none;\n                        margin-bottom: 2rem;\n                        color: #0057ad;\n                        font-size: 1.2rem;\n                        font-style: italic;\n                    }\n                </style>\n                <div class="modal-body find-wrapper">\n                    <h1 class="find-title">notify me when available</h1>\n                    <div>Select your option and we\'ll email you if it\'s back in stock</div>\n                    <div class="find-item-title">Product: <span class="find-product">'+n+'</span></div>\n                    <div class="alertBox alertBox--error alertBox-find-wrapper">\n                        <div class="alertBox-column alertBox-icon">\n                            <icon glyph="ic-error" class="icon" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"></path></svg></icon>\n                        </div>\n                        <p class="alertBox-column alertBox-message alertBox-find-option">\n                            <span></span>\n                        </p>\n                    </div>\n                    '+k+'\n                    <div class="find-select-wrapper">\n                        <label for="select-color" class="find-select-label">Hair color</label>\n                        <select name="select-color" class="find-select select-notify find-color" onchange="setSelect(this)">\n                            '+x+"\n                        </select>            \n                    </div>\n                    "+f+'                \n                    <div class="find-quantity-wrapper">\n                        <label for="input-quantity" class="find-quantity-label">Quantity</label>\n                        <div>\n                            <input class="find-quantity" min="1" type="number" value="1" onchange="setQuantity(this)" max="99"/>\n                        </div>\n                    </div>                \n                    '+v+'\n                </div>\n                <script>                \n                    if (document.querySelector(".find-btn-apply")) {\n                        let vJson = '+p+';\n                        document.querySelector(".find-btn-apply").setAttribute("data-book-email", "'+s+'");\n                        document.querySelector(".find-btn-apply").setAttribute("data-book-client-phone", "'+d+'");\n                        document.querySelector(".find-btn-apply").setAttribute("data-book-client-fullname", "'+c+'");  \n                        if (document.querySelector(".find-grey")) {} else {\n                            let colorData = '+JSON.stringify(o.data)+';                        \n                            Array.from(document.querySelector(".find-color").options).forEach((opt,idx) => {                            \n                                let vt = vJson.filter(v=>v.option_values.filter(op=>op.label==opt.value).length>0);                            \n                                if (vt.length>0) {\n                                    if (vt[0].inventory_level>0) {\n                                        opt.text = colorData[idx].value+" ("+vt[0].inventory_level+" in stock)";\n                                        opt.style.color="#000";\n                                        opt.disabled=false;\n                                    } else {\n                                        opt.text = colorData[idx].value;\n                                        opt.style.color="#000";\n                                        opt.disabled=false;\n                                    }\n                                } else {\n                                    if (idx>0) {\n                                        opt.text = colorData[idx].value + "(Non-stock color option)";\n                                        opt.style.color="#ccc";\n                                        opt.disabled=true;\n                                    } else {\n                                        opt.style.color="#ccc";\n                                        opt.disabled=true;\n                                    }\n                                }\n                            });\n                        }                  \n                        function setQuantity(obj) {\n                            document.querySelector(".find-btn-apply").setAttribute("data-book-quantity", obj.value);\n                        }\n                        function setSelect(obj) {\n                            document.querySelector(".find-btn-apply").setAttribute("data-book-option", obj.value);         \n                            if (document.querySelector(".find-grey")) {\n                                let greyData = '+JSON.stringify(r)+';\n                                if (greyData.data) {\n                                    greyData = greyData.data;\n                                }\n                                // let vArr = vJson.filter(v=>v.option_values.filter(op=>op.label.replaceAll("  "," ")==obj.value).length>0); \n                                let vArr = [];\n                                if (document.querySelector(".find-curl")) {                                    \n                                    vArr = vJson.filter(v=>v.option_values.filter(op=>op.label.includes(document.querySelector(".find-curl").value)).length>0); \n                                    vArr = vArr.filter(v=>v.option_values.filter(op=>op.label.replaceAll("  "," ")==obj.value).length>0); \n                                }\n                                else {                                    \n                                    vArr = vJson.filter(v=>v.option_values.filter(op=>op.label.replaceAll("  "," ")==obj.value).length>0); \n                                }\n                                document.querySelector(".find-grey-wrap").style.display="block";\n                                Array.from(document.querySelector(".find-grey").options).forEach((opt,idx) => {                                                                 \n                                    let vt = vArr.filter(v=>v.option_values.filter(op=>op.label==opt.value).length>0);                                 \n                                    if (vt.length>0) {\n                                        if (vt[0].inventory_level>0) {\n                                            opt.text = greyData[idx].value+" ("+vt[0].inventory_level+" in stock)";\n                                            opt.style.color="#000";\n                                            opt.disabled=false;\n                                        } else {\n                                            opt.text = greyData[idx].value;\n                                            opt.style.color="#000";\n                                            opt.disabled=false;\n                                        }\n                                    } else {\n                                        if (idx>0) {\n                                            opt.text = greyData[idx].value + "(Non-stock color option)";\n                                            opt.style.color="#ccc";\n                                            opt.disabled=true;\n                                        } else {\n                                            opt.style.color="#ccc";\n                                            opt.disabled=true;\n                                        }\n                                    }\n                                });\n                            }\n                        }\n                    }\n                <\/script>';i.updateContent(C)}else window.location="/login.php"}),e()},t.prototype.after=function(e){this.productReviewHandler(),e()},t.prototype.productReviewHandler=function(){-1!==this.url.indexOf("#write_review")&&this.$reviewLink.click()},t}(s.a);t.default=h},437:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(1),i=n.n(r),a=n(70),l=n(71),s=n(186),c=function(){function e(t){o(this,e),this.validator=Object(a.a)({submit:t.find('input[type="submit"]')}),this.$reviewsContent=i()("#product-reviews"),this.$collapsible=i()("[data-collapsible]",this.$reviewsContent),this.initLinkBind(),this.injectPaginationLink(),this.collapseReviews()}return e.prototype.initLinkBind=function(){var e=this,t=i()("#productReviews-content",this.$reviewsContent);i()(".productView-reviewLink").click(function(){t.hasClass("is-open")||e.$collapsible.trigger(l.a.click)})},e.prototype.collapseReviews=function(){window.location.hash&&0===window.location.hash.indexOf("#product-reviews")||this.$collapsible.trigger(l.a.click)},e.prototype.injectPaginationLink=function(){var e=i()(".pagination-item--next .pagination-link",this.$reviewsContent),t=i()(".pagination-item--previous .pagination-link",this.$reviewsContent);e.length&&e.attr("href",e.attr("href")+" #product-reviews"),t.length&&t.attr("href",t.attr("href")+" #product-reviews")},e.prototype.registerValidation=function(e){return this.context=e,this.validator.add([{selector:'[name="revrating"]',validate:"presence",errorMessage:this.context.reviewRating},{selector:'[name="revtitle"]',validate:"min-length:2",errorMessage:this.context.reviewSubject},{selector:'[name="revtext"]',validate:"min-length:2",errorMessage:this.context.reviewComment},{selector:'[name="email"]',validate:function(e,t){e(s.a.email(t))},errorMessage:this.context.reviewEmail}]),this.validator},e.prototype.validate=function(){return this.validator.performCheck()},e}();t.a=c},438:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){a()("[data-video-gallery]").each(function(e,t){var n=a()(t);n.data("video-gallery")instanceof l||n.data("video-gallery",new l(n))})}t.a=r;var i=n(1),a=n.n(i),l=function(){function e(t){o(this,e),this.$player=t.find("[data-video-player]"),this.$videos=t.find("[data-video-item]"),this.currentVideo={},this.bindEvents()}return e.prototype.selectNewVideo=function(e){e.preventDefault();var t=a()(e.currentTarget);this.currentVideo={id:t.data("video-id"),$selectedThumb:t},this.setMainVideo(),this.setActiveThumb()},e.prototype.setMainVideo=function(){this.$player.attr("src","//www.youtube.com/embed/"+this.currentVideo.id)},e.prototype.setActiveThumb=function(){this.$videos.removeClass("is-active"),this.currentVideo.$selectedThumb.addClass("is-active")},e.prototype.bindEvents=function(){this.$videos.on("click",this.selectNewVideo.bind(this))},e}()}});